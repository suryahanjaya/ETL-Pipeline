# CARA MENJALANKAN SCRIPT ETL PIPELINE

## Prerequisites:
1. Python 3.7+
2. Install dependencies: 
   pip install -r requirements.txt

## Konfigurasi Khusus:

### Untuk Google Sheets:
1. Buat Google Sheets baru di: https://sheets.google.com
2. Dapatkan Spreadsheet ID dari URL:
   Contoh: https://docs.google.com/spreadsheets/d/1c1BypuyfEBVxeA4YGZn_zqmCh_sgp6azqAtlpWatLl0/edit
   Spreadsheet ID: 1c1BypuyfEBVxeA4YGZn_zqmCh_sgp6azqAtlpWatLl0
3. Download credentials JSON dari Google Cloud Console
4. Rename file menjadi 'google-sheets-api.json' dan taruh di folder root
5. Update SPREADSHEET_ID di main.py dengan ID Anda (baris 65)

### Untuk PostgreSQL (Opsional):
1. Install PostgreSQL
2. Buat database: createdb fashion_db
3. Update connection string di main.py (baris 70):
   Format: postgresql://username:password@localhost:5432/fashion_db

## Menjalankan ETL:
python main.py

# CARA MENJALANKAN UNIT TEST

## Jalankan semua test:
python -m pytest tests/ -v

## Jalankan test dengan coverage:
python -m pytest tests/ --cov=utils --cov-report=term --cov-report=html

## Jalankan test file tertentu:
python -m pytest tests/test_extract.py -v
python -m pytest tests/test_transform.py -v  
python -m pytest tests/test_load.py -v

# CARA MELIHAT COVERAGE REPORT

Setelah menjalankan test dengan coverage:
1. Terminal report: lihat di console
2. HTML report: buka file htmlcov/index.html di browser

# URL GOOGLE SHEETS
https://docs.google.com/spreadsheets/d/1c1BypuyfEBVxeA4YGZn_zqmCh_sgp6azqAtlpWatLl0

# CATATAN PENTING

- Pastikan file google-sheets-api.json ada di folder root (untuk Google Sheets)
- Untuk PostgreSQL, sesuaikan connection string di main.py
- Data akan selalu tersimpan di products.csv (Basic requirement)
- Google Sheets dan PostgreSQL opsional untuk requirement Skilled/Advanced
- Format URL scraping sudah diperbaiki: halaman1: /, halaman2+: /page2, /page3, dst
- Semua test seharusnya pass setelah perbaikan mock Google Sheets